<html><head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style id="compiled-css" type="text/css">
progress {
  -position: fixed;
  top: 0px;
  left: 0px;
  width: 100%;
}

body{
  height: 9000px;
  background-color: black;
  background: url('https://i.imgur.com/qwrtnxz.jpg');
  color: white;
  
}

#filler{
  position: relative;
  border: 2px dashed cyan;
  margin-top: 3000px;
  height: 3000px;
}

#sticky{
  position: sticky;
  position: -webkit-sticky;
  top: 10px;
  border: 2px solid red;
  height: 90vh;
}
  </style>

  <script type="text/javascript">


    window.onload=function(){
      
let last_known_scroll_position = 0;
let ticking = false;

window.addEventListener('scroll', function(e) {
  last_known_scroll_position = window.scrollY;

  if (!ticking) {
    window.requestAnimationFrame(function() {
      doSomething(last_known_scroll_position);
      ticking = false;
    });

    ticking = true;
  }
}, {
	passive:true,
});

function doSomething(y){
	progress.value = y / document.body.offsetHeight;
}

    }

</script>

</head>
<body>

<h1>
Scroll down
</h1>

<div id="filler">
  <div id="sticky">
    <progress id="progress" value="0" max="1"></progress>
  </div>
</div>


</body>
</html>
